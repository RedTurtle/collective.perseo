<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="collective.perseo">
      
  <head>
	<metal:styleslot fill-slot="style_slot">
		<style type="text/css">
			#perseo_edit_form fieldset {
	   			background-color: #f5fbfb;
	   			border-style: solid solid solid;
	   			-moz-border-radius: 5px;
	   			-webkit-border-radius: 5px;
	   			border-radius: 5px;
			}
			input#perseo_title,
			textarea#perseo_keywords {
				width: 30%;
			}
		</style>
	</metal:styleslot>
	<metal:block fill-slot="top_slot"
	             tal:define="dummy python:request.set('enable_border',1)" />
  </head>

  <body>
	<div metal:fill-slot="main"
		tal:define="perseo_context here/@@perseo-context">
		<form name="perseo_edit_form" id="perseo_edit_form" action="#" method="post"
			tal:attributes="action string:${context/absolute_url}/@@perseo-tab-context" >
			<h1 i18n:translate="edit_seo">Edit SEO Settings</h1>
			<fieldset>
				<legend i18n:translate="legend_general_settings">
					General settings
				</legend>
				<div class="field">
					<label i18n:translate="label_title_tag" for="perseo_title">
						Title Tag
					</label>
					<div class="formHelp" i18n:translate="help_perseo_title">
						Text to be present in &lt;TITLE&gt; tag. It is displayed in 
						browser title bar. Search engines display it as a title of the 
						document.
					</div>
					<input type="checkbox"
						id="perseo_title_override"
						name="perseo_title_override"
						tal:attributes="checked python: perseo_context['has_perseo_title'] and 'on' or None;"
						/>
					<label i18n:translate="label_override" for="perseo_title_override">
						Override the default
					</label>
					<div class="TitleField">
					<input type="text"
					       id="perseo_title"
					       name="perseo_title"
					       size="30"
					       value=""
					       tal:attributes="value request/perseo_title | perseo_context/perseo_title;"
					       />
					</div>
				</div>
				<div class="field">
					<label i18n:translate="label_description_meta_tag" for="perseo_description">
						Meta Description Tag
					</label>
			        <div class="formHelp" i18n:translate="help_perseo_description">
						Description of the document to be indexed by Search Engines. This text will be present in meta description tag in page HTML source. 
			        </div>
			        <input type="checkbox"
						id="perseo_description_override"
						name="perseo_description_override"
						tal:attributes="checked python: perseo_context['has_perseo_description'] and 'on' or None;"
						/>
					<label i18n:translate="label_override" for="perseo_description_override">
						Override the default
					</label>
			        <div class="DescriptionField">
			        <textarea type="text"
						id="perseo_description"
						name="perseo_description"
						rows="5"
						cols="40"
						tal:content="request/perseo_description | perseo_context/perseo_description"
						/>
					</div>
				</div>
				<div class="field">
					<label i18n:translate="label_keywords_meta_tag" for="perseo_keywords">
						Meta Keywords Tag
					</label>
					<div class="formHelp" i18n:translate="help_perseo_keywords">
						Keywords, the page will be indexed with.
						<strong>Enter each keyword in separate line, please.</strong>
						Though the relevance of listing meta keywords is of
						questionable value now, it is useful to set meta keywords for
						pages - for future reference.
					</div>
					<input type="checkbox"
						id="perseo_keywords_override"
						name="perseo_keywords_override"
						tal:attributes="checked python: perseo_context['has_perseo_keywords'] and 'on' or None;"
						/>
					<label i18n:translate="label_override" for="perseo_keywords_override">
						Override the default
					</label>
					<div class="KeywordsField">
					<textarea id="perseo_keywords"
						name="perseo_keywords:lines"
						rows="11"
						cols="15"
						wrap="off"
						tal:define="keywords request/perseo_keywords | perseo_context/perseo_keywords"
						tal:content="python:'\n'.join(keywords)"
						/>
					</div>
				</div>
			</fieldset>
			<fieldset>
				<legend i18n:translate="legend_advanced">
					Advanced
				</legend>
				<div class="field">
					<label i18n:translate="label_robots_follow_meta_tag" for="perseo_robots_follow">
						Meta Robots Follow Tag
					</label>
					<div>
						<input type="checkbox"
							id="perseo_robots_follow_override"
							name="perseo_robots_follow_override"
							tal:attributes="checked python: perseo_context['has_perseo_robots_follow'] and 'on' or None;"
							/>
						<label i18n:translate="label_override" for="perseo_robots_follow_override">
							Override the default
						</label>
					</div>
					<div class="RobotsFollowField"
						 tal:define="options python:['follow','nofollow'];"
						 tal:repeat="op options">
						<input  type="radio"
								name="perseo_robots_follow"
								value="#"
								checked="checked"
								tal:attributes="value op;
												id string:perseo_robots_follow_${repeat/op/number};
												checked python:(op == request.get('perseo_robots_follow', '') or op == perseo_context['perseo_robots_follow']) and 'checked' or ''"/>
						<label  for=""
								i18n:translate=""
								tal:attributes="for string:perseo_robots_follow_${repeat/op/number}"
								tal:content="op"
								/>
					</div>
				</div>
				<div class="field">
					<label i18n:translate="label_robots_index_meta_tag" for="perseo_robots_index">
						Meta Robots Index Tag
					</label>
					<div>
						<input type="checkbox"
							id="perseo_robots_index_override"
							name="perseo_robots_index_override"
							tal:attributes="checked python: perseo_context['has_perseo_robots_index'] and 'on' or None;"
							/>
						<label i18n:translate="label_override" for="perseo_robots_index_override">
							Override the default
						</label>
					</div>
					<div class="RobotsIndexField"
						 tal:define="options python:['index','noindex'];"
						 tal:repeat="op options">
						<input  type="radio"
								name="perseo_robots_index"
								value="#"
								checked="checked"
								tal:attributes="value op;
												id string:perseo_robots_index_${repeat/op/number};
												checked python:(op == request.get('perseo_robots_index', '') or op == perseo_context['perseo_robots_index']) and 'checked' or ''"/>
						<label  for=""
								i18n:translate=""
								tal:attributes="for string:perseo_robots_index_${repeat/op/number}"
								tal:content="op"
								/>
					</div>
				</div>
				<div class="field">
					<label i18n:translate="label_robots_advanced_meta_tag" for="perseo_robots_advanced">
						Meta Robots Advanced Tag
					</label>
					<div>
						<input type="checkbox"
							id="perseo_robots_advanced_override"
							name="perseo_robots_advanced_override"
							tal:attributes="checked python: perseo_context['has_perseo_robots_advanced'] and 'on' or None;"
						/>
						<label i18n:translate="label_override" for="perseo_robots_advanced">
							Override the default
						</label>
					</div>
					<div class="RobotsAdvancedField">
						<select name="perseo_robots_advanced:list"
								id="perseo_robots_advanced"
								multiple="multiple"
								tal:define="options perseo_context/getRobotsAdvanced;">
							<option value="#"
									selected="selected"
									tal:repeat="op python:options.keys()"
									tal:content="python:options.getValue(op)"
									tal:define="radv python:perseo_context['perseo_robots_advanced'];
												empty_radv python:radv == ()"
									tal:attributes="value op;
													selected python:(op in request.get('perseo_robots_advanced', []) or op in radv or (op == '' and empty_radv)) and 'selected' or ''"
									i18n:translate=""
									>dummy</option>
						</select>
					</div>
				</div>
				<div class="field">
					<label i18n:translate="label_canonical_tag" for="perseo_canonical">
						Canonical URL
					</label>
					<div class="formHelp" i18n:translate="help_perseo_canonical">
						Specify your canonical URL.
						If your site has identical or vastly similar content that's accessible through multiple URLs,
						this format provides you with more control over the URL returned in search results.
					</div>
					<input type="checkbox"
						id="perseo_canonical_override"
						name="perseo_canonical_override"
						tal:attributes="checked python: perseo_context['has_perseo_canonical'] and 'on' or None;"
						/>
					<label i18n:translate="label_override" for="perseo_canonical_override">
						Override the default
					</label>
					<div class="CanonicalField">
						<input type="text"
							id="perseo_canonical"
							name="perseo_canonical"
							size="55"
							value=""
							tal:attributes="value request/perseo_canonical | perseo_context/perseo_canonical;"
							/>
					</div>
          		</div>
          		<div class="field">
          			<label i18n:translate="label_perseo_included_sitemapxml" for="perseo_included_in_sitemapxml">
						Include in sitemap.xml.gz
					</label>
					<div>
						<input type="checkbox"
							id="perseo_included_in_sitemapxml_override"
							name="perseo_included_in_sitemapxml_override"
							tal:attributes="checked python: perseo_context['has_perseo_included_in_sitemapxml'] and 'on' or None;"
							/>
						<label i18n:translate="label_override" for="perseo_included_in_sitemapxml_override">
							Override the default
						</label>
					</div>
					<div class="IncludedInSitemapxmlField"
						tal:define="options perseo_context/getYesNoOptions;"
						tal:repeat="op python:options.keys()">
						<input  type="radio"
								name="perseo_included_in_sitemapxml"
								value="#"
								checked="checked"
								tal:define="current_value python: perseo_context['perseo_included_in_sitemapxml'] and 'yes' or 'no';"
								tal:attributes="value op;
												id string:perseo_included_in_sitemapxml_${repeat/op/number};
												checked python:(op == request.get('perseo_included_in_sitemapxml', '') or op == current_value) and 'checked' or ''"/>
						<label  for=""
								i18n:translate=""
								tal:attributes="for string:perseo_included_in_sitemapxml_${repeat/op/number}"
								tal:content="op"
								/>
					</div>
				</div>
				<div class="field">
					<label i18n:translate="label_perseo_priority_sitemapxml" for="perseo_priority_sitemapxml">
						Priority sitemap.xml.gz
					</label>
					<div class="formHelp" i18n:translate="help_perseo_priority_sitemapxml">
						Values ​​from 0.1 to 1.0
					</div>
					<input type="hidden"
						id="perseo_priority_sitemapxml_override"
						name="perseo_priority_sitemapxml_override"
						tal:attributes="value string:on"
						/>
					<div class="PrioritySitemapxmlField">
					<input type="text"
					       id="perseo_priority_sitemapxml"
					       name="perseo_priority_sitemapxml"
					       size="5"
					       value=""
					       tal:attributes="value request/perseo_priority_sitemapxml | perseo_context/perseo_priority_sitemapxml;"
					       />
					</div>
				</div>
			</fieldset>
			<div class="formControls"
				i18n:domain="plone">
			    <input class="context"
			           type="submit"
			           name="form.button.Save"
			           value="Save"
			           i18n:attributes="value" />
			    <input class="standalone"
			           type="submit"
			           name="form.button.Cancel"
			           value="Cancel"
			           i18n:attributes="value" />
			</div>
		</form>
	</div>
  </body>
</html>
