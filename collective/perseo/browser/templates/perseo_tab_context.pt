<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="collective.perseo">
      
  <head>
	<metal:block fill-slot="top_slot"
	             tal:define="dummy python:request.set('enable_border',1)" />
  </head>

  <body>
	<div metal:fill-slot="main"
		tal:define="perseo_context here/@@perseo-context">
		<form name="perseo_edit_form" action="#" method="post"
			tal:attributes="action string:${context/absolute_url}/@@perseo-tab-context" >
			<h1 i18n:translate="edit_seo">Edit SEO Settings</h1>
			<fieldset>
				<legend i18n:domain="plone" i18n:translate="legend_item_properties">
					Item Properties
				</legend>
				<div class="field">
					<label i18n:translate="label_title_tag" for="perseo_title">
						Title Tag
					</label>
					<div class="formHelp" i18n:translate="help_perseo_title">
						Text to be present in &lt;TITLE&gt; tag. It is displayed in 
						browser title bar. Search engines display it as a title of the 
						document.
					</div>
					<input type="checkbox"
						id="perseo_title_override"
						name="perseo_title_override"
						tal:attributes="checked python: perseo_context['has_perseo_title'] and 'on' or None;"
						/>
					<label i18n:translate="label_override" for="perseo_title_override">
						Override the default
					</label>
					<br />
					<input type="text"
					       id="perseo_title"
					       name="perseo_title"
					       size="30"
					       value=""
					       tal:attributes="value request/perseo_title | perseo_context/perseo_title;"
					       />
				</div>
				<div class="field">
					<label i18n:translate="label_description_meta_tag" for="perseo_description">
						Meta Description Tag
					</label>
			        <div class="formHelp" i18n:translate="help_perseo_description">
						Description of the document to be indexed by Search Engines. This text will be present in meta description tag in page HTML source. 
			        </div>
			        <input type="checkbox"
						id="perseo_description_override"
						name="perseo_description_override"
						tal:attributes="checked python: perseo_context['has_perseo_description'] and 'on' or None;"
						/>
					<label i18n:translate="label_override" for="perseo_description_override">
						Override the default
					</label>
			        <br />
			        <textarea type="text"
						id="perseo_description"
						name="perseo_description"
						rows="5"
						cols="40"
						tal:content="request/perseo_description | perseo_context/perseo_description"
						/>
				</div>
				<div class="field">
					<label i18n:translate="label_keywords_meta_tag" for="perseo_keywords">
						Meta Keywords Tag
					</label>
					<div class="formHelp" i18n:translate="help_perseo_keywords">
						Keywords, the page will be indexed with.
						<strong>Enter each keyword in separate line, please.</strong>
						Though the relevance of listing meta keywords is of
						questionable value now, it is useful to set meta keywords for
						pages - for future reference.
					</div>
					<input type="checkbox"
						id="perseo_keywords_override"
						name="perseo_keywords_override"
						tal:attributes="checked python: perseo_context['has_perseo_keywords'] and 'on' or None;"
						/>
					<label i18n:translate="label_override" for="perseo_keywords_override">
						Override the default
					</label>
					<br />
					<textarea id="perseo_keywords"
						name="perseo_keywords:lines"
						rows="11"
						cols="15"
						wrap="off"
						tal:define="keywords request/perseo_keywords | perseo_context/perseo_keywords"
						tal:content="python:'\n'.join(keywords)"
						/>
				</div>
			</fieldset>
			<fieldset>
				<legend i18n:translate="legend_advanced">
					Advanced
				</legend>
				<div class="field">
					<label i18n:translate="label_robots_follow_meta_tag" for="perseo_robots_follow">
						Meta Robots Follow Tag
					</label>
					<input type="hidden"
						id="perseo_robots_follow_override"
						name="perseo_robots_follow_override"
						tal:attributes="value string:on"
						/>
					<div tal:define="options python:['follow','nofollow'];"
						 tal:repeat="op options">
						<input  type="radio"
								name="perseo_robots_follow"
								value="#"
								checked="checked"
								tal:attributes="value op;
												id string:perseo_robots_follow_${repeat/op/number};
												checked python:(op == request.get('perseo_robots_follow', '') or op == perseo_context['perseo_robots_follow']) and 'checked' or ''"/>
						<label  for=""
								i18n:translate=""
								tal:attributes="for string:perseo_robots_follow_${repeat/op/number}"
								tal:content="op"
								/>
					</div>
				</div>
				<div class="field">
					<label i18n:translate="label_robots_index_meta_tag" for="perseo_robots_index">
						Meta Robots Index Tag
					</label>
					<input type="hidden"
						id="perseo_robots_index_override"
						name="perseo_robots_index_override"
						tal:attributes="value string:on"
						/>
					<div tal:define="options python:['index','noindex'];"
						 tal:repeat="op options">
						<input  type="radio"
								name="perseo_robots_index"
								value="#"
								checked="checked"
								tal:attributes="value op;
												id string:perseo_robots_index_${repeat/op/number};
												checked python:(op == request.get('perseo_robots_index', '') or op == perseo_context['perseo_robots_index']) and 'checked' or ''"/>
						<label  for=""
								i18n:translate=""
								tal:attributes="for string:perseo_robots_index_${repeat/op/number}"
								tal:content="op"
								/>
					</div>
				</div>
				<div class="field">
					<label i18n:translate="label_robots_advanced_meta_tag" for="perseo_robots_advanced">
						Meta Robots Advanced Tag
					</label>
					<div>
						<input type="checkbox"
							id="perseo_robots_advanced_override"
							name="perseo_robots_advanced_override"
							tal:attributes="checked python: perseo_context['has_perseo_robots_advanced'] and 'on' or None;"
						/>
						<label i18n:translate="label_override" for="perseo_robots_advanced">
							Override the default
						</label>
					</div>
					<div>
						<select name="perseo_robots_advanced:list"
								id="perseo_robots_advanced"
								multiple="multiple"
								tal:define="options perseo_context/getRobotsAdvanced;">
							<option value="#"
									selected="selected"
									tal:repeat="op python:options.keys()"
									tal:content="python:options.getValue(op)"
									tal:define="radv python:perseo_context['perseo_robots_advanced'];
												empty_radv python:radv == ()"
									tal:attributes="value op;
													selected python:(op in request.get('perseo_robots_advanced', []) or op in radv or (op == '' and empty_radv)) and 'selected' or ''"
									i18n:translate=""
									>dummy</option>
						</select>
					</div>
				</div>
			</fieldset>
			<div class="formControls"
				i18n:domain="plone">
			    <input class="context"
			           type="submit"
			           name="form.button.Save"
			           value="Save"
			           i18n:attributes="value" />
			    <input class="standalone"
			           type="submit"
			           name="form.button.Cancel"
			           value="Cancel"
			           i18n:attributes="value" />
			</div>
		</form>
	</div>
  </body>
</html>
